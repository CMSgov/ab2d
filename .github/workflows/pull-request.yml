name: pull request jobs

on:
  push:
    branches: ["AB2D-6840/fix_ci"]
  pull_request:
permissions:
  id-token: write
  contents: read
jobs:
  unit-integration-test:
    uses: ./.github/workflows/unit-integration-test.yml
    secrets: inherit
#  build-deploy-api:
#    uses: ./.github/workflows/build-deploy-gf.yml
#    with:
#      environment: test
#      module: api
#    secrets: inherit
#  build-deploy-worker:
#    uses: ./.github/workflows/build-deploy-gf.yml
#    with:
#      environment: test
#      module: worker
#    secrets: inherit
#  e2e-test:
#    needs: [build-deploy-api, build-deploy-worker]
#    uses: ./.github/workflows/e2e-test-gf.yml
#    with:
#      environment: test
#    secrets: inherit
  verify-deployment:
#    needs: [e2e-test]
    uses: ./.github/workflows/verify-deploy.yml
    with:
      environment: test
    secrets: inherit    
